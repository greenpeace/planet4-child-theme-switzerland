/* Frontend styles for the Food Quiz block */

.food-quiz {
	.food-quiz__meal-times {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 48px;
		margin-bottom: 2rem;
	}

	h3 {
		margin-bottom: 1em;
	}

	.fq-option-title {
		margin-bottom: 4px;
		min-height: 1.7em;

		text-align: center;
		font-weight: 700;
		font-size: var(--gpch-font-size-smaller);

		line-height: 1.2;
	}

	.food-quiz__meal {
		text-align: center;

		.food-quiz__meal-options {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 8px;
			margin-bottom: 8px;

			.fq-option {
				display: flex;
				flex-direction: column;
				flex-wrap: nowrap;
				justify-content: flex-end;
				gap: 8px;

				margin-bottom: 6px;
				padding: 8px;

				border: 2px solid transparent;
				border-radius: 4px;
				box-shadow: 0 1px 8px rgba(0, 0, 0, 0.16);

				cursor: pointer;

				transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;

				input[type="radio"] {
					display: none;
				}

				.fq-option-title {
					min-height: 2.7em;
				}

				.fq-option-img img {
					width: 100%;
					aspect-ratio: 1/1;
					object-fit: cover;
				}

				&:hover {
					box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);

					/*border: solid 1px var(--gp-green-800);*/
				}

				&:has(input[type="radio"]:checked) {
					border-color: var(--gp-green-800);

					/*background-color: var(--beige-100);*/

					border-color: var(--gp-green-800);

					.fq-option-title {
						/*color: var(--gp-green-800);*/
					}
				}
			}
		}
	}

	.food-quiz__drinks {
		h3 {
			text-align: center;
		}

		.food-quiz__drink-options {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			column-gap: 8px;
			row-gap: 32px;
			margin-bottom: 8px;
		}

		.fq-drink-wrapper {
			text-align: center;
		}

		.fq-drink-controls {
			button {
				height: 34px;
				width: 34px;
				border: 1px solid var(--p4-dark-green-800);
				background: #fff;
				border-radius: 4px;

				font-weight: 700;

				transition: background-color 0.2s, border-color 0.2s, color 0.2s;

				&:hover {
					background-color: var(--p4-dark-green-800);
					color: #fff;
				}
			}

			.fq-drink-input {
				height: 34px;
				width: 64px;
				border: 1px solid var(--grey-600);
				border-radius: 4px;
				text-align: center;

				appearance: none;
				-webkit-appearance: none;
				-moz-appearance: textfield;
			}

			/* hide native number input spinners */
			.fq-drink-input::-webkit-outer-spin-button,
			.fq-drink-input::-webkit-inner-spin-button {
				-webkit-appearance: none;
				margin: 0;
			}
		}
	}

	.food-quiz__result {
		margin-top: 4em;

		text-align: center;

		.error-message {
			display: none;
			color: var(--red-500);
			font-weight: 700;
			margin-bottom: 12px;
		}


		.food-quiz__calculate {
			&:hover {
				background-color: var(--p4-action-yellow-600);
			}
		}

		.result-scale {
			display: none;
			position: relative;
			margin: 3rem 0 2rem 0;

			padding: 0 8px;


			.result-scale__row {
				display: flex;
				gap: 6px;
				align-items: center;
			}

			.result-scale__tier {
				flex: 1;
				height: 36px;
				border-radius: 6px;
				position: relative;
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 0 6px;
			}

			.result-scale__label {
				padding: 0.2rem 0.5rem;
				border-radius: 4px;
				background-color: rgba(255, 255, 255, 0.8);
				color: #000;
				font-weight: 600;
				font-size: var(--gpch-font-size-smaller);
				line-height: 1;
			}

			.result-scale__tier--0 {
				background: var(--p4-dark-green-800);
			}

			.result-scale__tier--1 {
				background: var(--gp-green-500);
			}

			.result-scale__tier--2 {
				background: var(--p4-action-yellow-500);
			}

			.result-scale__tier--3 {
				background: var(--p4-action-yellow-700);
			}

			.result-scale__tier--4 {
				background: var(--red-500);
			}

			.result-scale__arrow {
				position: absolute;
				top: -28px;
				left: -16px;
				transform: translateX(0);
				transition: transform 500ms cubic-bezier(0.2, 0.9, 0.2, 1);
				width: 0;
				height: 0;
				pointer-events: none;
			}

			.result-scale__arrow::after {
				content: "";
				display: block;
				margin: 0 auto;
				width: 0;
				height: 0;
				border-left: 16px solid transparent;
				border-right: 16px solid transparent;
				border-top: 24px solid #333;
			}
		}

		.food-quiz__tier {
			display: none;
			text-align: unset;
		}
	}
}


@media (max-width: 767px) {
	.food-quiz {
		.food-quiz__meal-times {
			grid-template-columns: 1fr;
			gap: 16px;
		}

		.food-quiz__drink-options {
			grid-template-columns: repeat(2, 1fr);
		}

		.food-quiz__result {
			.result-scale {
				.result-scale__tier {
					height: 48px;
				}
			}
		}
	}
}
